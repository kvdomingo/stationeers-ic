pin DaylightSensor d0;

void Main() {
    while (true) {
        yield;

        DaylightSensor.Mode = 1;

        var rawVertical = DaylightSensor.Vertical;
        var rawHorizontal = DaylightSensor.Horizontal;

        var horizontal = (rawHorizontal - 90) % 360;
        var vertical = (90 - rawVertical) % 360;

        DevicesOfType("StructureSolarPanelDualReinforced").Vertical = vertical;
        DevicesOfType("StructureSolarPanelDualReinforced").Horizontal = horizontal;
    }
}
